# ğŸ¯ ê²Œì„ ì„¤ëª…
# A(ì„ ê³µ)ì™€ B(í›„ê³µ) ë‘ í”Œë ˆì´ì–´ê°€ Kê°œì˜ ëŒì„ ì°¨ì§€í•˜ëŠ” ê²Œì„ì„ í•©ë‹ˆë‹¤.

# ğŸ”‘ í•µì‹¬ ê·œì¹™
# ê° í„´ì— í”Œë ˆì´ì–´ëŠ” 1~Mê°œì˜ ëŒì„ ê°€ì ¸ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ê° í”Œë ˆì´ì–´ì˜ ëˆ„ì  íšë“ëŸ‰ì€ ë°˜ë“œì‹œ í™€ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

# ë§ˆì§€ë§‰ ëŒì„ ê°€ì ¸ê°€ëŠ” í”Œë ˆì´ì–´ê°€ íŒ¨ë°°í•©ë‹ˆë‹¤.

# ê²Œì„ì€ ë‹¨ 1íšŒë§Œ ì§„í–‰ë©ë‹ˆë‹¤ (ì—¬ëŸ¬ ë¼ìš´ë“œ ì—†ìŒ).

# ëŒì˜ ì´ ê°œìˆ˜ KëŠ” í•­ìƒ M+1ì…ë‹ˆë‹¤.

# ğŸš€ ëª©í‘œ
# A í”Œë ˆì´ì–´(ì„ ê³µ)ê°€ ì–´ë–»ê²Œ í•´ë„ íŒ¨ë°°í•˜ê²Œ ë§Œë“œëŠ” ìœ ì¼í•œ M(Mì˜ ë²”ìœ„ëŠ” 1ë¶€í„° 20 ì‚¬ì´) ê°’ì„ ì°¾ìœ¼ì„¸ìš”

def is_A_always_losing(M, K, current_sum):
    # ë§ˆì§€ë§‰ ëŒì„ ê°€ì ¸ê°€ë©´ íŒ¨ë°°í•˜ëŠ” ê·œì¹™ì´ ìœ ì§€ë˜ë¯€ë¡œ, Kê°€ 1ì´ë©´ AëŠ” íŒ¨ë°°
    if K == 1:
        return True

    for take in range(1, M + 1):  # Aê°€ ê°€ì ¸ê°ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ë¥¼ í™•ì¸
        new_sum = current_sum + take  # ìƒˆë¡œìš´ íšë“ í•© ê³„ì‚°
        # í”Œë ˆì´ì–´ê°€ ê°€ì ¸ê°„ ëŒì˜ ì´í•©ì€ ë°˜ë“œì‹œ í™€ìˆ˜ì—¬ì•¼ í•˜ì§€ë§Œ, ë§ˆì§€ë§‰ ëŒì„ ê°€ì ¸ê°ˆ ë•ŒëŠ” ì˜ˆì™¸
        if (K - take) > 0 and (new_sum % 2 == 1 or K - take == 1) and not is_A_always_losing(M, K - take, new_sum):
            return False  # Bê°€ íŒ¨ë°°í•  ìˆ˜ ìˆëŠ” ê²½ìš°ê°€ ìˆìœ¼ë©´ AëŠ” ë°˜ë“œì‹œ ì§€ëŠ” ê²ƒì´ ì•„ë‹˜

    return True  # Aê°€ ì–´ë–¤ ìˆ˜ë¥¼ ê°€ì ¸ê°€ë„ í•­ìƒ íŒ¨ë°°í•˜ë©´ True ë°˜í™˜

def find_maximum_M():
    max_M = None  # ì´ˆê¸°í™”
    
    for M in range(1, 21):  # Mì˜ ë²”ìœ„ëŠ” 1ë¶€í„° 20ê¹Œì§€
        K = M + 1           # ëŒì˜ ì´ ê°œìˆ˜
        if is_A_always_losing(M, K, 0):  # Aê°€ í•­ìƒ íŒ¨ë°°í•˜ëŠ”ì§€ í™•ì¸
            max_M = M
    
    return max_M

print(find_maximum_M())

